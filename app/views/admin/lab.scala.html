
@scripts = {

    

}



@main(null,scripts, "admin") {

<style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
      .controls {
        margin-top: 16px;
        border: 1px solid transparent;
        border-radius: 2px 0 0 2px;
        box-sizing: border-box;
        -moz-box-sizing: border-box;
        height: 32px;
        outline: none;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      }

      #pac-input {
        background-color: #fff;
        padding: 0 11px 0 13px;
        width: 400px;
        font-family: Roboto;
        font-size: 15px;
        font-weight: 300;
        text-overflow: ellipsis;
        
      }

      #pac-input:focus {
        border-color: #4d90fe;
        margin-left: -1px;
        padding-left: 14px;  /* Regular padding-left + 1. */
        width: 401px;
      }

      .pac-container {
        font-family: Roboto;
        z-index: 10000 !important;
      }

      #type-selector {
        color: #fff;
        background-color: #4d90fe;
        padding: 5px 11px 0px 11px;
      }

      #type-selector label {
        font-family: Roboto;
        font-size: 13px;
        font-weight: 300;
      }


    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=places"></script>

    <script type="text/javascript">
      
    $(document).ready(function(){
    
    	var markersArray = [];
    	
    	$('#myMapModal').on('shown.bs.modal', function() {
        	resizeShit();
        	});
        
        function resizeShit(){	
            var center = map.getCenter();
            google.maps.event.trigger(map, "resize");
            map.setCenter(center); 
            
        }
    	
    	
    	/**
    	// add a click event handler to the map object
        google.maps.event.addListener(map, "click", function(event)
        {
            // place a marker
            placeMarker(event.latLng);

            // display the lat/lng in your form's lat/lng fields
            document.getElementById("latFld").value = event.latLng.lat();
            document.getElementById("lngFld").value = event.latLng.lng();
        });
    	
        function placeMarker(location) {
            // first remove all markers if there are any
            deleteOverlays();

            var marker = new google.maps.Marker({
                position: location, 
                map: map
            });

            // add marker in markers array
            markersArray.push(marker);

            //map.setCenter(location);
        }

        // Deletes all markers in the array by removing references to them
        function deleteOverlays() {
            if (markersArray) {
                for (i in markersArray) {
                    markersArray[i].setMap(null);
                }
            markersArray.length = 0;
            }
        }
        */
        
        
        
        
        /** autocomplete stuff*/
    	var mapOptions = {
        		
        		/** Startwert ist hier das Zentrum für Mediendidaktik der Uni Würzburg*/
    		    center: new google.maps.LatLng(49.782264, 9.974931),
    		    zoom: 13
    		  };
    		  var map = new google.maps.Map(document.getElementById('map-canvas'),
    		    mapOptions);

    		  var input = /**  */(
    		      document.getElementById('pac-input'));

    		  var types = document.getElementById('type-selector');
    		  map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
    		  map.controls[google.maps.ControlPosition.TOP_LEFT].push(types);

    		  var autocomplete = new google.maps.places.Autocomplete(input);
    		  autocomplete.bindTo('bounds', map);

    		  var infowindow = new google.maps.InfoWindow();
    		  var marker = new google.maps.Marker({
    		    map: map,
    		    anchorPoint: new google.maps.Point(0, -29)
    		  });

    		  google.maps.event.addListener(autocomplete, 'place_changed', function() {
    		    infowindow.close();
    		    marker.setVisible(false);
    		    var place = autocomplete.getPlace();
    		    if (!place.geometry) {
    		      return;
    		    }

    		    // If the place has a geometry, then present it on a map.
    		    if (place.geometry.viewport) {
    		      map.fitBounds(place.geometry.viewport);
    		    } else {
    		      map.setCenter(place.geometry.location);
    		      map.setZoom(17);  // Why 17? Because it looks good.
    		    }
    		    marker.setIcon(/** */({
    		      url: place.icon,
    		      size: new google.maps.Size(71, 71),
    		      origin: new google.maps.Point(0, 0),
    		      anchor: new google.maps.Point(17, 34),
    		      scaledSize: new google.maps.Size(35, 35)
    		    }));
    		    marker.setPosition(place.geometry.location);
    		    
    		    
    		    /** Macht kleinen Unterschied **/
    		    //TomsCode
    		    /** löscht alle vorherigen marker*/
    		    deleteOverlay();
    		    
    		    /** schmeißt den marker ins array, wenn neue adresse eingegeben :)*/
    		    marker.push(marker);
    		    // Ende TomsCode
    		  
    		    marker.setVisible(true);

    		    var address = '';
    		    if (place.address_components) {
    		      address = [
    		        (place.address_components[0] && place.address_components[0].short_name || ''),
    		        (place.address_components[1] && place.address_components[1].short_name || ''),
    		        (place.address_components[2] && place.address_components[2].short_name || '')
    		      ].join(' ');
    		    }

    		    infowindow.setContent('<div><strong>' + place.name + '</strong><br>' + address);
    		    infowindow.open(map, marker);
    		  });
 
    		 
    		  // Sets a listener on a radio button to change the filter type on Places
    		  // Autocomplete.
    		  function setupClickListener(id, types) {
    		    var radioButton = document.getElementById(id);
    		    google.maps.event.addDomListener(radioButton, 'click', function() {
    		      autocomplete.setTypes(types);
    		    });
    		  }

    		  setupClickListener('changetype-all', []);
    		/**  setupClickListener('changetype-establishment', ['establishment']);
    		  setupClickListener('changetype-geocode', ['geocode']);*/
    		  
    		  
    		  
    		// add a click event handler to the map object
    	        google.maps.event.addListener(map, "click", function(event)
    	        {
    	            // place a marker
    	            placeMarker(event.latLng);

    	            // display the lat/lng in your form's lat/lng fields
    	            document.getElementById("latFld").value = event.latLng.lat();
    	            document.getElementById("lngFld").value = event.latLng.lng();
    	        });
    	    	
    	        function placeMarker(location) {
    	            // first remove all markers if there are any
    	            deleteOverlays();

    	            var marker = new google.maps.Marker({
    	                position: location, 
    	                map: map
    	            });

    	            // add marker in markers array
    	            markersArray.push(marker);

    	            //map.setCenter(location);
    	        }

    	        // Deletes all markers in the array by removing references to them
    	        function deleteOverlays() {
    	            if (markersArray) {
    	                for (i in markersArray) {
    	                    markersArray[i].setMap(null);
    	                }
    	            markersArray.length = 0;
    	            }
    	        }
  
    });  
    </script>


		<meta charset="utf-8"/>

		<h3>Labore <span class="label label-default">16</span>		
			<button data-toggle="modal" data-target="#myMapModal" class="btn btn-default btn-sm loc" title="Juliuspromenade 8, 97070 WÃ¼rzburg"><span class="glyphicon glyphicon-map-marker"></span></button>
</h3>
		<hr>

	
			<div class="row">
			<div class="col-sm-3 col-xs-6 myStudies_ListView"><h4>Gebäude 82</h4></div>
			
			
			
			<div class="col-sm-3 col-xs-6 myStudies_ListView pull-right">
			<button class="btn btn-default btn pull-right" id="add" data-toggle="modal" data-target="#myMapModal"><span class="glyphicon glyphicon-plus"></span> Raum hinzufügen</button>
			
			</div>
			</div>
			
			<hr>
			
			
			<div class="row">
			<div class="col-sm-3 col-xs-6 col-sm-offset-2">Raum 00.205</div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-default btn-sm" id="add" data-toggle="modal" data-target="#myModal1"><span class="glyphicon glyphicon-map-marker"></span> Standort Bearbeiten</button></div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></span> </button></div> 
			</div>
		
		<hr>
			<div class="row">
			<div class="col-sm-3 col-xs-6">GebÃ¤udename</div>
			<div class="col-sm-3 col-xs-6">Raumnahme</div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-default btn-sm"><span class="glyphicon glyphicon-map-marker"></span> Standort Bearbeiten</button></div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></span> </button></div> 
		</div>
		<hr>
			<div class="row">
			<div class="col-sm-3 col-xs-6">GebÃ¤udename</div>
			<div class="col-sm-3 col-xs-6">Raumnahme</div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-default btn-sm"><span class="glyphicon glyphicon-map-marker"></span> Standort Bearbeiten</button></div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></span> </button></div> 
		</div>
		<hr>
			<div class="row">
			<div class="col-sm-3 col-xs-6">GebÃ¤udename</div>
			<div class="col-sm-3 col-xs-6">Raumnahme</div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-default btn-sm"><span class="glyphicon glyphicon-map-marker"></span> Standort Bearbeiten</button></div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></span> </button></div> 
		</div>
		<hr>
			<div class="row">
			<div class="col-sm-3 col-xs-6">GebÃ¤udename</div>
			<div class="col-sm-3 col-xs-6">Raumnahme</div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-default btn-sm"><span class="glyphicon glyphicon-map-marker"></span> Standort Bearbeiten</button></div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></span> </button></div> 
		</div>
		<hr>
			<div class="row">
			<div class="col-sm-3 col-xs-6">GebÃ¤udename</div>
			<div class="col-sm-3 col-xs-6">Raumnahme</div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-default btn-sm"><span class="glyphicon glyphicon-map-marker"></span> Standort Bearbeiten</button></div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></span> </button></div> 
		</div>
		<hr>
			<div class="row">
			<div class="col-sm-3 col-xs-6">GebÃ¤udename</div>
			<div class="col-sm-3 col-xs-6">Raumnahme</div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-default btn-sm"><span class="glyphicon glyphicon-map-marker"></span> Standort Bearbeiten</button></div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></span> </button></div> 
		</div>
		<hr>
			<div class="row">
			<div class="col-sm-3 col-xs-6">GebÃ¤udename</div>
			<div class="col-sm-3 col-xs-6">Raumnahme</div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-default btn-sm"><span class="glyphicon glyphicon-map-marker"></span> Standort Bearbeiten</button></div>
			<div class="col-sm-3 col-xs-6">	<button class="btn btn-danger btn-sm"><span class="glyphicon glyphicon-remove"></span> </button></div> 
		</div>
		<hr>

<div class="modal fade" id="myMapModal">
    <div class="modal-dialog admin_map1">
        <div class="modal-content contains_map2">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
                 <h4 class="modal-title">Oswald KÃ¼lpe Weg, GebÃ¤ude 82</h4>

            </div>
  
   <div class="modal-body contains_map3">
                <div class="container contains_map4">
                    <div class="row contains_map4">
                                   
						 <input id="pac-input" class="controls" type="text"
						        placeholder="Enter a location"/>
						    <div id="type-selector" class="controls">
						      <input type="radio" name="type" id="changetype-all" checked="checked">
						      <label for="changetype-all">All</label>
						    </div>
						    <div id="map-canvas"></div>
     
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="height:5%;">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" data-dismiss="modal">Save changes</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
    </div>
    <!-- /.modal -->



}